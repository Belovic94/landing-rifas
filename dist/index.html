<!DOCTYPE html><html><head>
    <meta charset="UTF-8">
    <title>Bono FAME Argentina 2024</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div id="root"></div>
    <div id="walletBrick_container"></div>

    <script src="https://sdk.mercadopago.com/js/v2"></script>
    <script>const publicKey = "APP_USR-2a879f5d-62ff-4ef6-be33-a62015fa87a0";
const mp = new MercadoPago(publicKey);
const bricksBuilder = mp.bricks();
// Paso 1: Obtener preferenceId desde tu backend
async function obtenerPreferenceId() {
    const response = await fetch('http://localhost:3000/crear-preferencia', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        }
    });
    const data = await response.json();
    return data.preference_id; // Asegurate de que tu backend devuelva esto
}
// Paso 2: Renderizar el Wallet Brick con el preferenceId
async function renderWalletBrickDinamico() {
    const preferenceId = await obtenerPreferenceId();
    await bricksBuilder.create("wallet", "walletBrick_container", {
        initialization: {
            preferenceId: preferenceId
        },
        callbacks: {
            onReady: ()=>console.log("\uD83D\uDFE2 Wallet Brick listo"),
            onError: (error)=>console.error("\u274C Error al renderizar Wallet:", error)
        }
    });
}
renderWalletBrickDinamico();

</script>
    <script type="module" src="/landing-rifas.31b563d9.js"></script>
  
</body></html>